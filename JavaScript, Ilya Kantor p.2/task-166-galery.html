<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Галерея</title>
    <link rel="stylesheet" href="task-166-galery.css" type="text/css" media="all" />
</head>
<body>
    <p><img id="largeImg" src="https://js.cx/gallery/img1-lg.jpg" alt="Large image"></p>
    <div id="thumbs">
        <!-- При наведении на изображение показывается встроенная подсказка браузера (title) -->
        <a href="https://js.cx/gallery/img2-lg.jpg" title="Image 2"><img src="https://js.cx/gallery/img2-thumb.jpg"/></a>
        <a href="https://js.cx/gallery/img3-lg.jpg" title="Image 3"><img src="https://js.cx/gallery/img3-thumb.jpg"/></a>
        <a href="https://js.cx/gallery/img4-lg.jpg" title="Image 4"><img src="https://js.cx/gallery/img4-thumb.jpg"/></a>
        <a href="https://js.cx/gallery/img5-lg.jpg" title="Image 5"><img src="https://js.cx/gallery/img5-thumb.jpg"/></a>
        <a href="https://js.cx/gallery/img6-lg.jpg" title="Image 6"><img src="https://js.cx/gallery/img6-thumb.jpg"/></a>
    </div>
    <script type="text/javascript" charset="utf-8">
        /* мій варіант*/
        const largeImg = document.getElementById("largeImg");
        
        const thumbs = document.getElementById("thumbs");
        thumbs.addEventListener("click", function(e) {
            let target = e.target;
            if (target.nodeName == ("A") || target.nodeName == ("IMG")) e.preventDefault();
            
            const title = target.getAttribute("title") || target.parentNode.getAttribute("title");
            const href = target.getAttribute("href") || target.parentNode.getAttribute("href");
            largeImg.setAttribute("src", href);
            
            const string = document.createElement("h2");
            const em = document.createElement("em");
            const paragraph = document.querySelector("p");
            string.innerHTML = "";
            paragraph.insertBefore(string, largeImg);
            string.innerHTML = title;
            
            string.style.cssText = "z-index: 1000; position: absolute; margin-left: 5%; background-color: black; border-radius: 25%" ;
            paragraph.insertBefore(string, largeImg);
        })
            /* варіант Іллі Кантора
            
            var largeImg = document.getElementById('largeImg');
            document.getElementById('thumbs').onclick = function(e) {  
            var target = e.target; 
            while (target != this) {  
            if (target.nodeName == 'A') {  
            showThumbnail(target.href, target.title);    
            return false;  
            }    
            target = target.parentNode;  
            } 
            } 
            function showThumbnail(href, title) {
            largeImg.src = href;   largeImg.alt = title; 
            }
            // предзагрузка страниц
            var imgs = thumbs.getElementsByTagName('img');
            for (var i = 0; i < imgs.length; i++) { 
                var url = imgs[i].parentNode.href; 
                var img = document.createElement('img'); 
                img.src = url; 
            }*/
            
            
    </script>
</body>
</html>